<template>
  <div class="page">
    <main>
      <section class="hero">
        <div class="container hero-inner">
          <div>
            <div class="hero-highlight">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</div>
            <h1 class="hero-title">SAFE SPACE ‚Äì ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h1>
            <p class="hero-text">
              ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏∞‡πÄ‡∏•‡πà‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏Ñ‡∏£‡∏ü‡∏±‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Ñ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏™‡∏±‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏£‡∏¥‡∏á ‡πÜ
              ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏°‡∏≠ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏ü‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ
            </p>
            <div class="hero-actions">
              <button class="btn btn-primary" @click="openChat">
                ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö FUNGJAI ‡∏ú‡πà‡∏≤‡∏ô LINE
              </button>
            </div>
            <p class="hero-note">
              ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á ‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏Å‡πá‡∏û‡∏≠
            </p>
          </div>

          <div class="hero-visual">
            <div class="hero-card">
              <div class="hero-chip">
                <span class="hero-chip-dot"></span>
                ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ
              </div>
              <p class="hero-quote">
                ‚Äú‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏£‡∏∞‡∏Ç‡∏≠‡∏á‡πÉ‡∏Ñ‡∏£ ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥‚Äù
                <small>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡∏à‡∏≤‡∏Å SAFE SPACE</small>
              </p>
            </div>
          </div>
        </div>
      </section>

      <section class="section section--soft">
        <div class="container">
          <div class="section-header">
            <h2 class="section-title">‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡∏Ç‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ</h2>
            <p class="section-subtitle">
              ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô ‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
            </p>
          </div>

          <div class="card card-soft">
            <p>
              ‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ SAFE SPACE ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∏‡∏°‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ß‡πà‡∏≤
              ‚Äú‡∏û‡∏π‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ß‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‚Äù
            </p>
            <ul class="rules-list">
              <li>‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á</li>
              <li>‡∏ó‡∏∏‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡πà‡∏≤ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ü‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô</li>
              <li>
                ‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡πâ‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á
                ‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ä‡∏ß‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≤‡∏¢‡∏î‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏£‡πà‡∏ß‡∏°‡∏î‡πâ‡∏ß‡∏¢
              </li>
              <li>‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏ñ‡πâ‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à</li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <button class="chat-fab" @click="toggleChat">
      <span class="chat-fab-dot" :class="{ 'chat-fab-dot--notify': !hasOpenedOnce }"></span>
      <div class="chat-fab-line">
        <span class="chat-fab-line-text">LINE</span>
      </div>
    </button>

    <!-- CHAT PANEL -->
    <transition name="chat-fade">
      <div v-if="isChatOpen" class="chat-panel">
        <!-- header -->
        <header class="chat-header">
          <div class="chat-header-left">
            <div class="chat-avatar">
              <span>FJ</span>
            </div>
            <div>
              <div class="chat-name">FUNGJAI</div>
              <div class="chat-status">
                <span class="chat-status-dot"></span>
                ‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏ú‡πà‡∏≤‡∏ô LINE Official
              </div>
            </div>
          </div>
          <button class="chat-close-btn" @click="closeChat">‚úï</button>
        </header>

        <!-- body -->
        <div class="chat-body">
          <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö -->
          <div class="chat-message chat-message--bot">
            <div class="chat-message-bubble">
              ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏à‡∏≤‡∏Å SAFE SPACE ‡∏ô‡∏∞ üå∏<br />
              ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô‡πÉ‡∏à ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ü‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô
              ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏±‡∏Å‡∏´‡∏≤‡πÄ‡∏£‡∏≤‡πÉ‡∏ô LINE ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
            </div>
            <div class="chat-message-time">‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
          </div>

          <div class="chat-footer-cta">
            <p class="chat-footer-title">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô LINE</p>
            <p class="chat-footer-desc">
              ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó FUNGJAI ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ LINE ‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö LINE
            </p>

            <!-- ‡∏õ‡∏∏‡πà‡∏° LINE ‡∏à‡∏£‡∏¥‡∏á: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô href ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå LINE Official ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠ -->
            <a
              class="chat-line-btn"
              href="https://line.me/R/ti/p/@YOUR_LINE_ID"
              target="_blank"
              rel="noopener noreferrer"
            >
              <span class="chat-line-logo">LINE</span>
              <span class="chat-line-text">‡πÅ‡∏ä‡∏ó‡∏Å‡∏±‡∏ö FUNGJAI ‡∏ú‡πà‡∏≤‡∏ô LINE</span>
            </a>
          </div>
        </div>
      </div>
    </transition>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";

const isChatOpen = ref(false);
const hasOpenedOnce = ref(false);

const openChat = () => {
  isChatOpen.value = true;
  hasOpenedOnce.value = true;
};

const closeChat = () => {
  isChatOpen.value = false;
};

const toggleChat = () => {
  isChatOpen.value = !isChatOpen.value;
  if (isChatOpen.value) {
    hasOpenedOnce.value = true;
  }
};
</script>

<style scoped>
.chat-fab {
  position: fixed;
  right: 1.8rem;
  bottom: 1.8rem;
  width: 64px;
  height: 64px;
  border-radius: 999px;
  border: none;
  outline: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.18);
  background: #00c300; /* ‡πÇ‡∏ó‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß LINE */
  color: #ffffff;
  z-index: 50;
}

.chat-fab:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.2);
}

.chat-fab-dot {
  position: absolute;
  top: 8px;
  right: 10px;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: #ffffff;
  opacity: 0.3;
  transition: all 0.2s ease;
}

.chat-fab-dot--notify {
  opacity: 1;
  background: #ffeb3b;
}

.chat-fab-line {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
}

.chat-fab-line-text {
  font-weight: 800;
  font-size: 0.85rem;
  color: #00c300;
}

/* ‡πÅ‡∏ú‡∏á‡πÅ‡∏ä‡∏ó */
.chat-panel {
  position: fixed;
  right: 1.6rem;
  bottom: 5.6rem;
  width: 360px;
  max-height: 480px;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 18px 50px rgba(0, 0, 0, 0.25);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 60;
}

/* header */
.chat-header {
  padding: 0.9rem 1rem;
  border-bottom: 1px solid rgba(255, 210, 210, 0.8);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #fff7f7;
}

.chat-header-left {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

.chat-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ffe6e0, #ff8a80);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  font-weight: 700;
  color: #ffffff;
}

.chat-name {
  font-size: 0.9rem;
  font-weight: 600;
}

.chat-status {
  font-size: 0.75rem;
  color: #777;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.chat-status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #6dd1a1;
}

.chat-close-btn {
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 1rem;
  color: #999;
}

.chat-close-btn:hover {
  color: #555;
}

/* body */
.chat-body {
  padding: 0.85rem 0.9rem 1.1rem;
  flex: 1;
  overflow-y: auto;
  background: linear-gradient(180deg, #fff9f9 0%, #ffece7 100%);
}

.chat-message {
  margin-bottom: 0.7rem;
  max-width: 90%;
}

.chat-message--bot .chat-message-bubble {
  background: #ffffff;
  color: #333;
  border-radius: 16px 16px 16px 4px;
}

.chat-message-bubble {
  padding: 0.7rem 0.8rem;
  font-size: 0.9rem;
  line-height: 1.5;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.1);
}

.chat-message-time {
  margin-top: 0.25rem;
  font-size: 0.7rem;
  color: rgba(0, 0, 0, 0.45);
}

/* footer CTA */
.chat-footer-cta {
  margin-top: 0.8rem;
  padding: 0.9rem 0.8rem 0.4rem;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
}

.chat-footer-title {
  margin: 0 0 0.25rem;
  font-size: 0.94rem;
  font-weight: 600;
}

.chat-footer-desc {
  margin: 0 0 0.7rem;
  font-size: 0.8rem;
  color: #666;
}

.chat-line-btn {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.55rem 0.75rem;
  border-radius: 999px;
  text-decoration: none;
  background: #00c300;
  color: #ffffff;
  font-size: 0.85rem;
  font-weight: 600;
  box-shadow: 0 8px 20px rgba(0, 195, 0, 0.4);
}

.chat-line-btn:hover {
  background: #00ad00;
}

.chat-line-logo {
  width: 30px;
  height: 30px;
  border-radius: 999px;
  background: #ffffff;
  color: #00c300;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  font-weight: 800;
}

.chat-line-text {
  white-space: nowrap;
}

.chat-fade-enter-active,
.chat-fade-leave-active {
  transition: opacity 0.18s ease, transform 0.18s ease;
}

.chat-fade-enter-from,
.chat-fade-leave-to {
  opacity: 0;
  transform: translateY(10px);
}

@media (max-width: 600px) {
  .chat-panel {
    right: 0.75rem;
    left: 0.75rem;
    bottom: 4.8rem;
    width: auto;
    max-height: 70vh;
  }

  .chat-fab {
    right: 1rem;
    bottom: 1.2rem;
  }

  .chat-line-text {
    white-space: normal;
  }
}
</style>